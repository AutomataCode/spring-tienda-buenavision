<!DOCTYPE html>
<html lang="es" xmlns:th="https://www.thymeleaf.org" th:replace="layouts/base :: layout(~{::title},  ~{::body}, ~{::#detalleStyles},, ~{::#scriptsShop})">

<head>
	<title>Buena Vision</title>
</head>

<body>
	<!-- Start Content -->
	<div class="container py-5">
		<div class="row">

			<div class="col-lg-3">
				<h1 class="h2 pb-4">Categories</h1>
				<ul class="list-unstyled templatemo-accordion">
					<li class="pb-3">
						<a class="collapsed d-flex justify-content-between h3 text-decoration-none" href="#">
							Gender
							<i class="fa fa-fw fa-chevron-circle-down mt-1"></i>
						</a>
						<ul class="collapse show list-unstyled pl-3">
							<li><a class="text-decoration-none" href="#">Men</a></li>
							<li><a class="text-decoration-none" href="#">Women</a></li>
						</ul>
					</li>
					<li class="pb-3">
						<a class="collapsed d-flex justify-content-between h3 text-decoration-none" href="#">
							Sale
							<i class="pull-right fa fa-fw fa-chevron-circle-down mt-1"></i>
						</a>
						<ul id="collapseTwo" class="collapse list-unstyled pl-3">
							<li><a class="text-decoration-none" href="#">Sport</a></li>
							<li><a class="text-decoration-none" href="#">Luxury</a></li>
						</ul>
					</li>
					<li class="pb-3">
						<a class="collapsed d-flex justify-content-between h3 text-decoration-none" href="#">
							Product
							<i class="pull-right fa fa-fw fa-chevron-circle-down mt-1"></i>
						</a>
						<ul id="collapseThree" class="collapse list-unstyled pl-3">
							<li><a class="text-decoration-none" href="#">Bag</a></li>
							<li><a class="text-decoration-none" href="#">Sweather</a></li>
							<li><a class="text-decoration-none" href="#">Sunglass</a></li>
						</ul>
					</li>
				</ul>
			</div>

			<div class="col-lg-9">
				<div class="row">
					<div class="col-md-6">
						<ul class="list-inline shop-top-menu pb-3 pt-1">
							<li class="list-inline-item">
								<a class="h3 text-dark text-decoration-none mr-3" href="#">All</a>
							</li>
							<li class="list-inline-item">
								<a class="h3 text-dark text-decoration-none mr-3" href="#">Men's</a>
							</li>
							<li class="list-inline-item">
								<a class="h3 text-dark text-decoration-none" href="#">Women's</a>
							</li>
						</ul>
					</div>
					<div class="col-md-6 pb-4">
						<div class="d-flex">
							<select class="form-control">
								<option>Featured</option>
								<option>A to Z</option>
								<option>Item</option>
							</select>
						</div>
					</div>
				</div>
				<div class="row" th:if="${not productos.empty}">
					<div th:each="producto:${productos}" class="col-md-4">
						<div class="card mb-4 product-wap rounded-0 product-card">
							

							<div class="card rounded-0 position-relative">
								<!-- Badge de Stock -->
								                        <div class="position-absolute top-0 start-0 m-2">
								                            <span th:if="${producto.stockActual == 0}" 
								                                  class="badge bg-danger">Agotado</span>
																  <span th:if="${producto.stockActual > 0 and producto.stockActual <= producto.stockMinimo}" 
																        class="badge bg-warning text-dark">Últimas unidades</span>
								                        </div>
								
								
								<img class="card-img rounded-0 img-fluid  product-image"
									th:src="${producto.imagenUrl ?: '/images/producto-default.jpg'}">
						
							</div>
							<div class="card-body">
								<small class="text-muted mb-1" th:text="${producto.marca.nombre}"></small>

								<!-- Nombre -->
								<h6 class="card-title" th:text="${producto.nombre}"></h6>


								<div class="mb-2">
									<small class="text-muted d-block">
										<i class="fas fa-palette me-1"></i>
										<span th:text="${producto.color}"></span>
									</small>
									<small class="text-muted d-block">
										<i class="fas fa-ruler me-1"></i>
										<span th:text="${producto.talla.descripcion}"></span>
									</small>
								</div>

								<!-- Precio -->
								<div class="price mb-2"
									th:text="'S/ ' + ${#numbers.formatDecimal(producto.precioVenta, 1, 2)}">
								</div>

								<!-- Botones de Acción -->
								<div class="mt-auto">
									<a th:href="@{/catalogo/producto/} + ${producto.idProducto}"
										class="btn btn-outline-primary btn-sm w-100 mb-2">
										<i class="fas fa-eye me-1"></i>Ver Detalle
									</a>
									<button th:if="${producto.stockActual > 0}" class="btn btn-primary btn-sm w-100"
										th:onclick="|agregarAlCarrito(${producto.idProducto})|">
										<i class="fas fa-cart-plus me-1"></i>Agregar al Carrito
									</button>
									<button th:if="${producto.stockActual == 0}" class="btn btn-secondary btn-sm w-100"
										disabled>
										<i class="fas fa-times me-1"></i>No Disponible
									</button>
								</div>
							</div>
						</div>
					</div>
				</div>
				<!-- Paginación -->
				             <div th:if="${totalPages > 1}" class="row mt-4">
				                 <div class="col-12">
				                     <nav aria-label="Paginación de productos">
				                         <ul class="pagination justify-content-center">
				                             <!-- Botón Anterior -->
				                             <li class="page-item" th:classappend="${currentPage == 0} ? 'disabled' : ''">
				                                 <a class="page-link" 
				                                    th:href="@{/catalogo(page=${currentPage - 1}, size=${12}, tipo=${selectedTipo})}">
				                                     <i class="fas fa-chevron-left"></i>
				                                 </a>
				                             </li>

				                             <!-- Páginas -->
				                             <li th:each="page : ${#numbers.sequence(0, totalPages - 1)}" 
				                                 class="page-item" th:classappend="${page == currentPage} ? 'active' : ''">
				                                 <a class="page-link" 
				                                    th:href="@{/catalogo(page=${page}, size=${12}, tipo=${selectedTipo})}"
				                                    th:text="${page + 1}"></a>
				                             </li>

				                             <!-- Botón Siguiente -->
				                             <li class="page-item" th:classappend="${currentPage == totalPages - 1} ? 'disabled' : ''">
				                                 <a class="page-link" 
				                                    th:href="@{/catalogo(page=${currentPage + 1}, size=${12}, tipo=${selectedTipo})}">
				                                     <i class="fas fa-chevron-right"></i>
				                                 </a>
				                             </li>
				                         </ul>
				                     </nav>
				                 </div>
				             </div>

			</div>

		</div>

	</div>
	</div>
	<!-- End Content -->

	<!-- Start Brands -->
	<section class="bg-light py-5">
		<div class="container my-4">
			<div class="row text-center py-3">
				<div class="col-lg-6 m-auto">
					<h1 class="h1">Our Brands</h1>
					<p>
						Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
						Lorem ipsum dolor sit amet.
					</p>
				</div>
				<div class="col-lg-9 m-auto tempaltemo-carousel">
					<div class="row d-flex flex-row">
						<!--Controls-->
						<div class="col-1 align-self-center">
							<a class="h1" href="#multi-item-example" role="button" data-bs-slide="prev">
								<i class="text-light fas fa-chevron-left"></i>
							</a>
						</div>
						<!--End Controls-->

						<!--Carousel Wrapper-->
						<div class="col">
							<div class="carousel slide carousel-multi-item pt-2 pt-md-0" id="multi-item-example"
								data-bs-ride="carousel">
								<!--Slides-->
								<div class="carousel-inner product-links-wap" role="listbox">

									<!--First slide-->
									<div class="carousel-item active">
										<div class="row">
											<div class="col-3 p-md-5">
												<a href="#"><img class="img-fluid brand-img"
														src="assets/img/brand_01.png" alt="Brand Logo"></a>
											</div>
											<div class="col-3 p-md-5">
												<a href="#"><img class="img-fluid brand-img"
														src="assets/img/brand_02.png" alt="Brand Logo"></a>
											</div>
											<div class="col-3 p-md-5">
												<a href="#"><img class="img-fluid brand-img"
														src="assets/img/brand_03.png" alt="Brand Logo"></a>
											</div>
											<div class="col-3 p-md-5">
												<a href="#"><img class="img-fluid brand-img"
														src="assets/img/brand_04.png" alt="Brand Logo"></a>
											</div>
										</div>
									</div>
									<!--End First slide-->

									<!--Second slide-->
									<div class="carousel-item">
										<div class="row">
											<div class="col-3 p-md-5">
												<a href="#"><img class="img-fluid brand-img"
														src="assets/img/brand_01.png" alt="Brand Logo"></a>
											</div>
											<div class="col-3 p-md-5">
												<a href="#"><img class="img-fluid brand-img"
														src="assets/img/brand_02.png" alt="Brand Logo"></a>
											</div>
											<div class="col-3 p-md-5">
												<a href="#"><img class="img-fluid brand-img"
														src="assets/img/brand_03.png" alt="Brand Logo"></a>
											</div>
											<div class="col-3 p-md-5">
												<a href="#"><img class="img-fluid brand-img"
														src="assets/img/brand_04.png" alt="Brand Logo"></a>
											</div>
										</div>
									</div>
									<!--End Second slide-->

									<!--Third slide-->
									<div class="carousel-item">
										<div class="row">
											<div class="col-3 p-md-5">
												<a href="#"><img class="img-fluid brand-img"
														src="assets/img/brand_01.png" alt="Brand Logo"></a>
											</div>
											<div class="col-3 p-md-5">
												<a href="#"><img class="img-fluid brand-img"
														src="assets/img/brand_02.png" alt="Brand Logo"></a>
											</div>
											<div class="col-3 p-md-5">
												<a href="#"><img class="img-fluid brand-img"
														src="assets/img/brand_03.png" alt="Brand Logo"></a>
											</div>
											<div class="col-3 p-md-5">
												<a href="#"><img class="img-fluid brand-img"
														src="assets/img/brand_04.png" alt="Brand Logo"></a>
											</div>
										</div>
									</div>
									<!--End Third slide-->

								</div>
								<!--End Slides-->
							</div>
						</div>
						<!--End Carousel Wrapper-->

						<!--Controls-->
						<div class="col-1 align-self-center">
							<a class="h1" href="#multi-item-example" role="button" data-bs-slide="next">
								<i class="text-light fas fa-chevron-right"></i>
							</a>
						</div>
						<!--End Controls-->
					</div>
				</div>
			</div>
		</div>
	</section>


</body>

</html>